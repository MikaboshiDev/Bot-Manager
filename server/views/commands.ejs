<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp" rel="stylesheet" />
    <link href="/css/commands.css" rel="stylesheet" />
    <link rel="shortcut icon" href="/images/favicon/logo.jpg" type="image/gif" />
    <title><%= _client.user.username %> - Commands</title>
    <%- include("./partials/meta.ejs") %>
  </head>
  <body>
    <div class="container">
      <aside><%- include('./partials/aside.ejs'); %></aside>
      <main>
        <h1>Commands</h1>
        <div class="date">
          <input type="date" />
        </div>
        <div class="commands-date">
          <div class="commands">
            <% for (let i = 0; i < commands.length; i++) { %>
            <div class="card" id="commandsCard">
              <h2>
                <%= commands[i].name %> <% if (commands[i].subcommands && commands[i].subcommands.length > 0) { %>
                <i class="material-icons-sharp" alt="subcommands enable">display_settings</i>
                <% } %>
              </h2>
              <a href="#">
                <!-- Aquí puedes añadir el enlace si es necesario -->
              </a>
              <div class="linea"></div>
              <p><span>Description:</span> <%= commands[i].description %></p>
              <p><span>Category:</span> <%= commands[i].category %></p>
              <p><span>Aliases:</span> <%= commands[i].aliases.join(', ') %></p>
            </div>
            <% } %>
          </div>
          <div class="pagination">
            <button id="prevButton" class="pagination-button">
              <i class="material-icons-sharp">chevron_left</i>
            </button>
            <button id="nextButton" class="pagination-button">
              <i class="material-icons-sharp">chevron_right</i>
            </button>
          </div>
        </div>
      </main>
      <%- include("./partials/right.ejs") %>
    </div>
    <footer class="footer-credits"><%- include('./partials/footer.ejs'); %></footer>
    <script src="/js/dark.theme.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const cards = document.getElementById('commandsCard');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const cardsPerPage = 9;
        let currentPage = 0;

        function updateCards() {
          for (let i = 0; i < cards.length; i++) {
            cards[i].style.display = 'none';
          }
          for (let i = currentPage * cardsPerPage; i < (currentPage + 1) * cardsPerPage; i++) {
            if (cards[i]) {
              cards[i].style.display = 'block';
            }
          }
        }

        function checkButtons() {
          currentPage === 0 ? (prevButton.disabled = true) : (prevButton.disabled = false);
          currentPage === Math.ceil(cards.length / cardsPerPage) - 1
            ? (nextButton.disabled = true)
            : (nextButton.disabled = false);
        }

        prevButton.addEventListener('click', function () {
          currentPage--;
          updateCards();
          checkButtons();
        });

        nextButton.addEventListener('click', function () {
          currentPage++;
          updateCards();
          checkButtons();
        });

        updateCards();
        checkButtons();
      });
    </script>
  </body>
</html>
